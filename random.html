<!DOCTYPE html>
<html>
  <head>
    <title>Mazify 3D</title>
    <meta name="description" content="Mazify 3D" />
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v3.8.6/dist/aframe-extras.min.js"></script>
    <script src="js/randMaze.js"></script>
    <script src="js/mazify.js"></script>
    <script src="js/player.js"></script>

    <link
      href="https://fonts.googleapis.com/css?family=Spartan&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body style="background-color: #222222">
    <div id="loader" class="lds-dual-ring centered"></div>
    <a-scene
      fog="type: linear; color: #111; far: 16; near: 7"
      style="display: none;"
    >
      <!-- Assets -->
      <a-assets>
        <img id="pavement" src="assets/pavement.jpg" />
        <img id="brick-02" src="assets/brick-02.jpg" />
        <img id="ball" src="assets/ball.jpg" />
        <img id="red-carpet" src="assets/red-carpet.jpg" />
        <img id="start" src="assets/start.jpg" />
        <img id="finish" src="assets/finish.jpg" />
      </a-assets>

      <!-- Environment -->
      <a-sky height="2048" color="#111" width="2048"></a-sky>
      <a-light type="ambient" color="#fff" intensity="0.8"></a-light>
      <a-plane
        material="src: #pavement; repeat: 50 50"
        static-body
        rotation="-90 0 0"
        height="100"
        width="100"
      ></a-plane>

      <!-- Player -->
      <a-entity
        id="player"
        camera="user-height: 1.7"
        universal-controls
        kinematic-body
        listener
        player
      >
      </a-entity>

      <!-- Maze -->
      <a-entity mazify> </a-entity>
    </a-scene>

    <!-- The Modal -->
    <div id="finishDialog" class="modal mazify" style="display: none;">
      <!-- Modal content -->
      <div class="modal-content">
        <div class="modal-header">
          <span class="close" onclick="cont()">&times;</span>
          <h2>Finished</h2>
        </div>
        <div class="modal-body">
          <p>Congratulation</p>
          <p>You have found the finish point</p>
        </div>
        <div class="modal-footer">
          <h3></h3>
          <button class="button" onclick="reset()">Play Again</button>
          <button class="button" onclick="cont()">Continue</button>
        </div>
      </div>
    </div>
    <script>
      let data = {
          "data": randomGeneration(),
          "height": 20,
          "width": 20
      }
      localStorage.setItem("maze-data", JSON.stringify(data));
    </script>
  </body>
</html>
